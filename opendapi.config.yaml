# This file was generated by the OpenDapi CLI - `opendapi init`
# Please add, remove and update the integrations and their overrides as needed.
# For more information on the OpenDapi configuration schema, please visit:
# https://opendapi.org or talk to https://wovencollab.com

schema: https://opendapi.org/spec/0-0-1/opendapi.config.json

organization:
  name: Woven Demo
  email_domain: wovencollab.com

repository:
  urn: woven_demo.dapi-demo
  mainline_branch: main

dapis:
  integrations:

    - type: pynamodb
      services:
        # Automatic addition not supported for PynamoDB
        include_all: false

        # Pynamodb Python services specific overrides
        # These are required to point to the correct base model classes
        # and optionally, add patterns to identify source and sink datastores
        overrides:
          - service_path: todos
            # Manually install the opendapi library to this service.
            is_opendapi_lib_installed: false
            base_model_classes:
              - todos.todo_model.TodoModel
            tests_dir: tests
            tests_command: make test
            playbooks:
              - type: add_source_datastore
                datastore_urn: todos.datastores.dynamodb
                namespace: ~
                identifier_prefix: ~
              - type: add_sink_datastore
                datastore_urn: todos.datastores.snowflake
                namespace: production_db.my_schema
                identifier_prefix: PRODUCTION_
